(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7449"],{"0yuF":function(o,t,e){"use strict";var s=e("pfIx");e.n(s).a},X9Rj:function(o,t,e){"use strict";e.d(t,"a",function(){return a}),e.d(t,"c",function(){return n}),e.d(t,"b",function(){return r}),e.d(t,"d",function(){return l});var s=e("t3Un");function a(o){return Object(s.a)({url:"/home/info",method:"post",data:o})}function n(o){return Object(s.a)({url:"/home/todayInfo",method:"post",data:o})}function r(){return Object(s.a)({url:"/home/shopInfo",method:"post",data:{}})}function l(o){return Object(s.a)({url:"/home/updateShopInfo",method:"post",data:o})}},"a/AY":function(o,t,e){"use strict";e.r(t);var s=e("X9Rj"),a=e("rs3x"),n={data:function(){return{uploadPath:a.a,shopInfo:{}}},created:function(){this.getShopInfo()},computed:{headers:function(){return{"X-Upload-Type":"goods"}}},methods:{getShopInfo:function(){var o=this;Object(s.b)().then(function(t){var e=t.data;0==e.errno&&(o.shopInfo=e.result)}).catch(function(o){console.log(o)})},create:function(){var o=this;console.log(this.shopInfo),Object(s.d)(this.shopInfo).then(function(t){0==t.data.errno&&(o.getShopInfo(),alert("更新成功"))}).catch(function(o){console.log(o)})},uploadPicUrl:function(o){console.log(o),console.log(this.$store.getters.storagePath),this.shopInfo.logoImg=this.$store.getters.storagePath+"/goods/"+o.result,this.loading=!1},uploadInstoreImg:function(o){console.log(o),this.shopInfo.instoreImg=this.$store.getters.storagePath+"/goods/"+o.result,this.loading=!1},uploadStoreImg:function(o){console.log(o),this.shopInfo.instoreImg=this.$store.getters.storagePath+"/goods/"+o.result,this.loading=!1},beforeUpload:function(o){var t="image/jpg"===o.type||"image/png"===o.type||"image/jpeg"===o.type,e=o.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 或 PNG 格式!"),e||this.$message.error("上传头像图片大小不能超过 2MB!"),this.loading=!0,t&&e}}},r=(e("0yuF"),e("ZrdR")),l=Object(r.a)(n,function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"app-container"},[e("el-form",{ref:"shopInfo",attrs:{model:o.shopInfo,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"店铺名称",prop:"shopname"}},[e("el-input",{model:{value:o.shopInfo.shopname,callback:function(t){o.$set(o.shopInfo,"shopname",t)},expression:"shopInfo.shopname"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"商品Logo",prop:"logoImg"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:o.uploadPath,"show-file-list":!1,"on-success":o.uploadPicUrl,headers:o.headers,"before-upload":o.beforeUpload,"element-loading-text":"上传图片中",accept:".jpg,.jpeg,.png,.gif"}},[o.shopInfo.logoImg?e("img",{staticClass:"avatar",attrs:{src:o.shopInfo.logoImg}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o._v(" "),e("el-form-item",{attrs:{label:"店铺简介"}},[e("el-input",{model:{value:o.shopInfo.brief,callback:function(t){o.$set(o.shopInfo,"brief",t)},expression:"shopInfo.brief"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"店铺地址",prop:"address"}},[e("el-input",{model:{value:o.shopInfo.address,callback:function(t){o.$set(o.shopInfo,"address",t)},expression:"shopInfo.address"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"联系电话"}},[e("el-input",{model:{value:o.shopInfo.contactMobile,callback:function(t){o.$set(o.shopInfo,"contactMobile",t)},expression:"shopInfo.contactMobile"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"店铺照片",prop:"instoreImg"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:o.uploadPath,"show-file-list":!1,"on-success":o.uploadStoreImg,headers:o.headers,"before-upload":o.beforeUpload,"element-loading-text":"上传图片中",accept:".jpg,.jpeg,.png,.gif"}},[o.shopInfo.instoreImg?e("img",{staticClass:"avatar",attrs:{src:o.shopInfo.instoreImg}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o._v(" "),e("el-form-item",{attrs:{label:"店内照片",prop:"instoreImg"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:o.uploadPath,"show-file-list":!1,"on-success":o.uploadInstoreImg,headers:o.headers,"before-upload":o.beforeUpload,"element-loading-text":"上传图片中",accept:".jpg,.jpeg,.png,.gif"}},[o.shopInfo.storeImg?e("img",{staticClass:"avatar",attrs:{src:o.shopInfo.storeImg}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),o._v(" "),e("div",{staticClass:"op-container"},[e("el-button",{on:{click:function(t){o.resetForm("shopInfo")}}},[o._v("重置")]),o._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){o.create()}}},[o._v("更新")])],1)],1)},[],!1,null,null,null);l.options.__file="shop.vue";t.default=l.exports},pfIx:function(o,t,e){},rs3x:function(o,t,e){"use strict";e.d(t,"a",function(){return s});e("t3Un");var s="http://localhost:8081/admin/storage/upload"}}]);